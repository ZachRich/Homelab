---
- name: Deploy complete Docker infrastructure
  hosts: docker_hosts
  become: yes
  roles:
    - docker
    - traefik
    - portainer
    - pihole

  post_tasks:
    - name: Display deployment information
      debug:
        msg: |
          ðŸŽ‰ Deployment Complete!
          
          Access your services:
          â€¢ Traefik Dashboard: http://{{ ansible_default_ipv4.address }}:8080
          â€¢ Portainer: http://{{ ansible_default_ipv4.address }}:9000
          â€¢ PiHole: http://{{ ansible_default_ipv4.address }}/admin
          
          For HTTPS access (after DNS setup):
          â€¢ Traefik: https://traefik.{{ domain_name }}
          â€¢ Portainer: https://portainer.{{ domain_name }}
          â€¢ PiHole: https://pihole.{{ domain_name }}